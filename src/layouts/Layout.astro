---
// src/layouts/Layout.astro
import logo from '../assets/logo-madecem.svg';

interface Props {
	title: string;
    description?: string;
    // A√ëADIMOS LOS NUEVOS TEMAS AQU√ç
    theme?: 'default' | 'taller' | 'carniceria' | 'restaurante';
}

const { title, description, theme = 'default' } = Astro.props;

// --- L√ìGICA DE COLORES ---
let bgBody, bgHeader, hoverText, btnColor, selectionColor;

switch (theme) {
    case 'taller': // Naranja Industrial
        bgBody = 'bg-[#0c0a09]';
        bgHeader = 'bg-[#0c0a09]/90 border-orange-900/30';
        hoverText = 'hover:text-orange-500';
        btnColor = 'bg-orange-600 hover:bg-orange-500 shadow-[0_0_15px_rgba(234,88,12,0.3)]';
        selectionColor = 'selection:bg-orange-500';
        break;
    case 'carniceria': // Rojo Intenso
        bgBody = 'bg-[#1a0505]'; // Rojo muy oscuro casi negro
        bgHeader = 'bg-[#1a0505]/90 border-red-900/30';
        hoverText = 'hover:text-red-500';
        btnColor = 'bg-red-600 hover:bg-red-500 shadow-[0_0_15px_rgba(220,38,38,0.3)]';
        selectionColor = 'selection:bg-red-500';
        break;
    case 'restaurante': // Dorado / Champagne
        bgBody = 'bg-[#0f0f0a]'; // Negro con toque dorado
        bgHeader = 'bg-[#0f0f0a]/90 border-yellow-900/30';
        hoverText = 'hover:text-yellow-500';
        btnColor = 'bg-yellow-600 hover:bg-yellow-500 text-black shadow-[0_0_15px_rgba(202,138,4,0.3)]';
        selectionColor = 'selection:bg-yellow-500';
        break;
    default: // Default (Azul Tech)
        bgBody = 'bg-[#020617]';
        bgHeader = 'bg-[#020617]/90 border-white/5';
        hoverText = 'hover:text-blue-400';
        btnColor = 'bg-blue-600 hover:bg-blue-700 shadow-[0_0_15px_rgba(37,99,235,0.3)]';
        selectionColor = 'selection:bg-blue-500';
}
---

<!doctype html>
<html lang="es" class="scroll-smooth">
	<head>
		<meta charset="UTF-8" />
		<meta name="description" content={description || "Soluciones de IA para negocios"} />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<title>{title}</title>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;900&display=swap" rel="stylesheet">
	</head>
	
	<body class={`${bgBody} text-white font-sans antialiased min-h-screen flex flex-col ${selectionColor} selection:text-white`}>
		
        <header class={`fixed top-0 left-0 right-0 z-50 border-b backdrop-blur-xl transition-colors duration-300 ${bgHeader}`}>
            <nav class="max-w-7xl mx-auto px-6 h-20 flex items-center justify-between">
                <a href="/" class="flex items-center gap-3 group">
                    <img src={logo.src} alt="MADECEM AI Logo" class="h-9 w-auto" />
                    <span class={`text-xl font-black tracking-tight text-white transition-colors ${hoverText}`}>
                        MADECEM
                    </span>
                </a>
                <div class="hidden md:flex items-center gap-8 text-sm font-medium text-slate-400">
                    <a href="/#soluciones" class="hover:text-white transition-colors">Soluciones</a>
                    <a href="#contacto" class="hover:text-white transition-colors">Empresa</a>
                    <a href="#contacto" class={`${btnColor} text-white px-5 py-2.5 rounded-lg transition-all font-semibold`}>
                        Contacto
                    </a>
                </div>
            </nav>
        </header>

		<main class="flex-1 pt-20"> 
			<slot />
		</main>

        <footer id="contacto" class="border-t border-slate-800/50 bg-[#020617] pt-16 pb-8 relative overflow-hidden mt-auto">
            <div class="absolute bottom-0 left-1/2 -translate-x-1/2 w-[600px] h-[300px] bg-slate-900/50 rounded-full blur-[120px] pointer-events-none"></div>
            <div class="max-w-7xl mx-auto px-6 relative z-10">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-12">
                    <div class="col-span-1 lg:col-span-1">
                        <div class="flex items-center gap-2 mb-6 opacity-90">
                             <img src={logo.src} alt="Madecem" class="h-6 w-auto" />
                             <span class="text-lg font-bold tracking-tight">MADECEM</span>
                        </div>
                        <p class="text-slate-400 text-sm leading-relaxed mb-6">Ingenier√≠a de automatizaci√≥n e Inteligencia Artificial.</p>
                    </div>
                    <div class="col-span-1">
                        <h4 class="text-white font-bold mb-6">Contacto</h4>
                        <ul class="space-y-4 text-sm text-slate-400">
                            <li class="flex items-start gap-3">
                                <span>üìç</span>
                                <span>C/ San Ant√≥n 2<br>19171 Cabanillas del Campo<br>Guadalajara</span>
                            </li>
                            <li class="flex items-center gap-3">
                                <span>üìß</span>
                                <a href="mailto:info@madecem.com" class="hover:text-white transition-colors">info@madecem.com</a>
                            </li>
                        </ul>
                    </div>
                    <div class="col-span-1 md:col-span-2 h-52 rounded-2xl overflow-hidden border border-slate-800 shadow-2xl relative z-10">
                        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3032.548773956405!2d-3.2355419234473854!3d40.63004384351639!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xd43acdd9a287239%3A0x6280435178619677!2sC.%20San%20Ant%C3%B3n%2C%202%2C%2019171%20Cabanillas%20del%20Campo%2C%20Guadalajara!5e0!3m2!1ses!2ses!4v1705851234567!5m2!1ses!2ses" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                        <div class="absolute inset-0 bg-blue-950/30 mix-blend-multiply pointer-events-none"></div>
                    </div>
                </div>
                <div class="border-t border-slate-800/50 pt-8 flex justify-between items-center text-xs text-slate-500">
                    <p>¬© {new Date().getFullYear()} MADECEM.</p>
                </div>
            </div>
        </footer>
	</body>
</html>

<style is:global>
	html { font-family: 'Inter', system-ui, sans-serif; background-color: #020617; scroll-behavior: smooth; }
    iframe { filter: invert(90%) hue-rotate(180deg) brightness(90%) contrast(90%); }
</style>