---
import Layout from '../layouts/Layout.astro';
import { Image } from 'astro:assets';

// Forzamos la importación desde assets
import heroIA from '../assets/hero-ia.webp';
import heroVision from '../assets/hero-vision.webp';
import visionindustrialImg from '../assets/visionindustrial.webp'; 
import logoMadecem from '../assets/logo-madecem.svg';
---

<Layout title="MADECEM | Agentes de IA e Industria 4.0">
    <main class="relative isolate bg-[#020617]">
        
        <div class="absolute inset-x-0 -top-40 -z-10 transform-gpu overflow-hidden blur-3xl sm:-top-60" aria-hidden="true">
            <div class="relative left-[calc(50%-11rem)] aspect-[1155/678] w-[36.125rem] -translate-x-1/2 rotate-[30deg] bg-gradient-to-tr from-[#0ea5e9] to-[#2563eb] opacity-20 sm:left-[calc(50%-30rem)] sm:w-[72.1875rem]"></div>
        </div>

        <section class="relative mx-auto max-w-7xl px-6 pb-24 pt-10 sm:pb-32 lg:px-8 lg:py-24 overflow-hidden">
            <div id="hero-carousel" class="relative">
                
                <div class="carousel-slide flex flex-col lg:flex-row items-center gap-12 transition-all duration-1000">
                    <div class="lg:w-1/2 lg:flex-shrink-0">
                        <span class="rounded-full bg-blue-500/10 px-3 py-1 text-sm font-semibold leading-6 text-blue-400 ring-1 ring-inset ring-blue-500/20">
                            Eficiencia Autónoma
                        </span>
                        <h1 class="mt-8 text-4xl font-bold tracking-tight text-white sm:text-6xl">
                            IA que <span class="text-blue-500 text-glow">elimina</span> tus costes de inactividad.
                        </h1>
                        <p class="mt-6 text-lg leading-8 text-gray-300">
                            No esperes a que tus operarios detecten el cuello de botella. Nuestros agentes autónomos toman decisiones en milisegundos.
                        </p>
                        <div class="mt-10 flex items-center gap-x-6">
                            <a href="mailto:info@madecem.com" class="rounded-md bg-blue-600 px-5 py-3 text-sm font-semibold text-white shadow-lg shadow-blue-500/30 hover:bg-blue-500 hover:scale-105 transition-all">
                                 Desplegar mi Agente IA
                            </a>
                        </div>
                    </div>
                    <div class="lg:w-1/2 flex justify-center relative min-h-[300px]">
                        <Image 
                            src={heroIA} 
                            alt="IA Industrial MADECEM" 
                            width={380} 
                            height={380}
                            format="webp"
                            quality="mid"
                            loading="eager" 
                            fetchpriority="high" 
                            class="w-full max-w-[380px] rounded-2xl shadow-2xl ring-1 ring-white/10 object-cover" 
                        />
                    </div>
                </div>

                <div class="carousel-slide hidden flex flex-col lg:flex-row items-center gap-12 transition-all duration-1000">
                    <div class="lg:w-1/2 lg:flex-shrink-0">
                         <h2 class="mt-8 text-4xl font-bold tracking-tight text-white sm:text-6xl">
                            Si tu ojo falla, <span class="text-emerald-500 text-glow">nuestra IA no</span>.
                        </h2>
                    </div>
                    <div class="lg:w-1/2 flex justify-center relative min-h-[300px]">
                        <Image 
                            src={heroVision} 
                            alt="Visión Artificial" 
                            width={380} 
                            height={380}
                            format="webp"
                            quality="mid"
                            loading="lazy"
                            class="w-full max-w-[380px] rounded-2xl shadow-2xl object-cover" 
                        />
                    </div>
                </div>

                <div class="mt-12 flex justify-center gap-3">
                    <button class="dot h-1.5 w-8 rounded-full bg-blue-600 transition-all" aria-label="Ver diapositiva 1"></button>
                    <button class="dot h-1.5 w-8 rounded-full bg-white/20 transition-all" aria-label="Ver diapositiva 2"></button>
                </div>
            </div>
        </section>

        <section id="nosotros" class="py-24 sm:py-32 bg-[#020617] relative">
            <div class="mx-auto max-w-7xl px-6 lg:px-8">
                <div class="grid grid-cols-1 gap-x-8 gap-y-16 lg:grid-cols-2 items-center">
                    <div class="relative flex justify-center">
                        <Image 
                            src={visionindustrialImg} 
                            alt="Tecnologia Industrial Madecem" 
                            width={380} 
                            height={380}
                            format="avif" 
                            quality="low"
                            loading="lazy"
                            decoding="async"
                            class="aspect-square w-full max-w-[380px] rounded-2xl border border-white/10 object-cover shadow-2xl"
                        />
                    </div>

                    <div>
                        <h2 class="text-base font-semibold leading-7 text-blue-500 uppercase tracking-widest">Sobre MADECEM</h2>
                        <p class="mt-2 text-3xl font-bold tracking-tight text-white sm:text-4xl">Tecnología con propósito industrial</p>
                        <div class="mt-6 text-lg leading-8 text-gray-300 space-y-6">
                            <p>En MADECEM, entendemos el lenguaje de las máquinas para democratizar el acceso a los Agentes de IA industriales.</p>
                            <div class="pt-8">
                                <a href="mailto:info@madecem.com" class="inline-flex items-center gap-x-2 rounded-full bg-blue-600 px-8 py-4 text-lg font-semibold text-white shadow-xl hover:bg-blue-500 transition-all group">
                                    Comenzar transformación
                                    <span class="group-hover:translate-x-1 transition-transform" aria-hidden="true">→</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <footer class="bg-[#010409] border-t border-white/5 pt-16 pb-8">
            <div class="mx-auto max-w-7xl px-6 lg:px-8 text-center sm:text-left">
                <div class="flex items-center justify-center sm:justify-start gap-3">
                    <Image src={logoMadecem} alt="Logo MADECEM" width={48} height={48} class="h-12 w-auto" />
                    <span class="text-2xl font-bold tracking-tighter uppercase text-white">Madecem</span>
                </div>
                <div class="mt-16 border-t border-white/5 pt-8 text-center">
                    <p class="text-xs text-gray-400">© 2026 MADECEM S.L. Inteligencia Aplicada a la Industria.</p>
                </div>
            </div>
        </footer>

    </main>
</Layout>

<style>
    .text-glow { text-shadow: 0 0 20px rgba(59, 130, 246, 0.5); }
    .carousel-slide { 
        animation: fadeIn 0.8s ease-out;
        min-height: 400px; 
    }
    @keyframes fadeIn {
        from { opacity: 0; transform: translateX(20px); }
        to { opacity: 1; transform: translateX(0); }
    }
    .dot { cursor: pointer; }
</style>

<script>
    const slides = document.querySelectorAll('.carousel-slide');
    const dots = document.querySelectorAll('.dot');
    let currentSlide = 0;

    function showSlide(index: number) {
        slides.forEach((slide, i) => {
            slide.classList.toggle('hidden', i !== index);
            if(dots[i]) {
                dots[i].classList.toggle('bg-blue-600', i === index);
                dots[i].classList.toggle('bg-white/20', i !== index);
                (dots[i] as HTMLElement).style.width = i === index ? '2rem' : '0.5rem';
            }
        });
    }

    function nextSlide() {
        if (slides.length === 0) return;
        currentSlide = (currentSlide + 1) % slides.length;
        showSlide(currentSlide);
    }

    setInterval(nextSlide, 6000);

    dots.forEach((dot, i) => {
        dot.addEventListener('click', () => {
            currentSlide = i;
            showSlide(currentSlide);
        });
    });
</script>